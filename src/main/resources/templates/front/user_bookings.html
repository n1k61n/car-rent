<!doctype html>
<html lang="en" layout:decorate="~{front/layout}" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:th="http://www.thymeleaf.org">

<head>
    <title th:text="#{nav.about} + ' - CarRental'">Sifarişlərim - CarRental</title>
    <meta charset="utf-8">
</head>

<body>

<div layout:fragment="content">
    <div class="hero inner-page" style="background-image: url('/front/images/hero_1_a.jpg');">
        <div class="container">
            <div class="row align-items-end">
                <div class="col-lg-5">
                    <div class="intro">
                        <h1 th:text="#{user.booking}">Sifarişlərim</h1>
                        <div class="custom-breadcrumbs">
                            <a href="/" th:text="#{nav.home}">Ana Səhifə</a>
                            <span class="mx-2">/</span>
                            <strong th:text="#{user.booking}">Haqqımızda</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="site-section">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="table-responsive bg-white shadow-sm p-3 rounded">
                        <table class="table table-hover">
                            <thead class="thead-light">
                            <tr>
                                <th>#ID</th>
                                <th>Avtomobil</th>
                                <th>Götürülmə Tarixi</th>
                                <th>Qaytarılma Tarixi</th>
                                <th>Ümumi Qiymət</th>
                                <th>Status</th>
                                <th>Əməliyyat</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="booking : ${bookings}">
                                <td th:text="${booking.car.id}">1</td>
                                <td>
                                    <strong th:text="${booking.car.brand + ' ' + booking.car.model}">BMW X5</strong>
                                </td>
                                <td th:text="${#temporals.format(booking.startDate, 'dd-MM-yyyy')}">01-01-2024</td>
                                <td th:text="${#temporals.format(booking.endDate, 'dd-MM-yyyy')}">05-01-2024</td>
                                <td th:text="${booking.totalPrice + ' AZN'}">250 AZN</td>
                                <td>
                                        <span th:classappend="${booking.status.name() == 'COMPLETED' ? 'badge-success' : 'badge-warning'}"
                                              class="badge p-2" th:text="${booking.status}">Gözləmədə</span>
                                </td>
                                <td>
                                    <form th:action="@{/bookings/delete}" method="post" onsubmit="return confirm('Ləğv etməyə əminsiniz?')">
                                        <input type="hidden" name="id" th:value="${booking.id}"/>
                                        <button type="submit" class="btn btn-sm btn-outline-danger">Ləğv et</button>
                                    </form>
                                </td>
                            </tr>
                            <tr th:if="${#lists.isEmpty(bookings)}">
                                <td colspan="7" class="text-center py-5">
                                    <p class="text-muted">Hələ ki, heç bir sifarişiniz yoxdur.</p>
                                    <a href="/listing" class="btn btn-primary btn-sm text-white">İndi İcarələ</a>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>
<!doctype html>
<html lang="en" layout:decorate="~{front/layout}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">

<head>
    <title th:text="#{nav.success_title}">Sifariş Uğurludur</title>
    <style>
        .receipt-container {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            text-align: left;
        }
        .receipt-header {
            border-bottom: 2px solid #28a745;
            margin-bottom: 15px;
            padding-bottom: 10px;
        }
        .receipt-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        .receipt-total {
            border-top: 1px solid #dee2e6;
            padding-top: 10px;
            font-weight: bold;
            font-size: 1.2em;
        }
    </style>
</head>

<body>

<div layout:fragment="content">
    <div class="site-section bg-light">
        <div class="container">
            <div class="row justify-content-center text-center">
                <div class="col-md-7">

                    <div class="p-5 bg-white shadow-sm rounded">
                        <span class="icon-check_circle display-3 text-success mb-4 d-block"></span>

                        <h2 class="text-black h1 font-weight-bold" th:text="#{success.thanks}">Təşəkkür edirik!</h2>

                        <p class="lead text-muted mb-5"
                           th:text="${success != null ? success : #messages.msg('success.message')}">
                            Sizin rezervasiya müraciətiniz qeydə alındı.
                        </p>

                        <!-- Receipt Section -->
                        <div class="receipt-container" th:if="${booking != null}">
                            <div class="receipt-header">
                                <h4 class="text-success" th:text="#{receipt.title}">Ödəniş Çeki</h4>
                                <small th:text="#{receipt.booking_id} + ' #' + ${booking.id}">Sifariş ID: #12345</small>
                            </div>

                            <div class="receipt-item">
                                <span th:text="#{receipt.car}">Avtomobil:</span>
                                <span th:text="${booking.carBrand + ' ' + booking.carModel}">Toyota Camry</span>
                            </div>

                            <div class="receipt-item">
                                <span th:text="#{receipt.start_date}">Başlanğıc Tarixi:</span>
                                <span th:text="${#temporals.format(booking.startDate, 'dd-MM-yyyy')}">01-01-2024</span>
                            </div>

                            <div class="receipt-item">
                                <span th:text="#{receipt.end_date}">Bitmə Tarixi:</span>
                                <span th:text="${#temporals.format(booking.endDate, 'dd-MM-yyyy')}">05-01-2024</span>
                            </div>

                            <div class="receipt-item">
                                <span th:text="#{receipt.daily_price}">Günlük Qiymət:</span>
                                <span th:text="${booking.dailyPrice} + ' AZN'">50 AZN</span>
                            </div>

                            <div class="receipt-total receipt-item">
                                <span th:text="#{receipt.total_price}">Ümumi Məbləğ:</span>
                                <span th:text="${booking.totalPrice} + ' AZN'">250 AZN</span>
                            </div>

                            <div class="receipt-item mt-3">
                                <span th:text="#{receipt.status}">Status:</span>
                                <span class="badge badge-success" th:text="${booking.status}">PENDING</span>
                            </div>
                        </div>

                        <div class="pt-3 mt-4">
                            <a href="/" class="btn btn-white btn-outline-primary btn-md px-5 py-3 ml-2">
                                <span th:text="#{nav.home}">Ana Səhifə</span>
                            </a>
                            <a href="/account/bookings" class="btn btn-primary btn-md px-5 py-3 text-white">
                                <span th:text="#{user.booking}">Sifarişlərim</span>
                            </a>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>
<!DOCTYPE html>
<html lang="en" layout:decorate="~{dashboard/layout}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Yeni Kateqoriya Yaratmaq</title>
</head>
<body>
<div layout:fragment="content">
    <div class="container-fluid">

        <!-- Page Header -->
        <div class="d-sm-flex align-items-center justify-content-between mb-4">
            <h1 class="h3 mb-0 text-gray-800">
                <i class="fas fa-plus-circle mr-2 text-success"></i>Yeni Kateqoriya Yaratmaq
            </h1>
            <a th:href="@{/dashboard/category/index}" class="btn btn-sm btn-secondary shadow-sm">
                <i class="fas fa-arrow-left"></i> Siyahıya Qayıt
            </a>
        </div>

        <!-- Form Card -->
        <div class="row">
            <div class="col-lg-8 offset-lg-2">
                <div class="card shadow mb-4 border-left-success">
                    <div class="card-header py-3 bg-white">
                        <h6 class="m-0 font-weight-bold text-success text-uppercase small">
                            <i class="fas fa-info-circle mr-2"></i>Kateqoriya Məlumatları
                        </h6>
                    </div>
                    <div class="card-body">
                        <form th:action="@{/dashboard/category/create}"
                              th:object="${category}"
                              method="post"
                              novalidate>

                            <!-- Category Name Field -->
                            <div class="form-group mb-4">
                                <label for="nameInput" class="form-label font-weight-bold">
                                    Kateqoriya Adı <span class="text-danger">*</span>
                                </label>
                                <input type="text"
                                       class="form-control form-control-lg"
                                       id="nameInput"
                                       name="name"
                                       th:value="${category.name}"
                                       placeholder="Məs: SUV, Sedan, Minivan..."
                                       required>
                                <small class="form-text text-muted mt-2">
                                    <i class="fas fa-info-circle"></i> Kateqoriyanın adını daxil edin
                                </small>
                            </div>

                            <!-- Form Actions -->
                            <div class="form-group">
                                <button type="submit" class="btn btn-success btn-lg btn-block font-weight-bold shadow">
                                    <i class="fas fa-check-circle mr-2"></i>Yaratmaq
                                </button>
                                <button type="reset" class="btn btn-light btn-block mt-2">
                                    <i class="fas fa-redo mr-2"></i>Formu Təmizlə
                                </button>
                                <a th:href="@{/dashboard/category/index}" class="btn btn-secondary btn-block mt-2">
                                    <i class="fas fa-times mr-2"></i>Ləğv Et
                                </a>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Help Card -->
                <div class="card shadow border-left-info">
                    <div class="card-header py-3 bg-white">
                        <h6 class="m-0 font-weight-bold text-info text-uppercase small">
                            <i class="fas fa-question-circle mr-2"></i>Kömək
                        </h6>
                    </div>
                    <div class="card-body">
                        <p><strong>Kateqoriya Adı:</strong> Avtomobil kateqoriyasının adı (Məs: Ekonomi, Komfort, Lüks)</p>
                        <p><strong>Təsvir:</strong> Bu kateqoriyanın xüsusiyyətləri və hansı avtomobillərin daxil olduğu haqqında qısa məlumat</p>
                        <hr>
                        <p class="mb-0 text-muted small"><i class="fas fa-lightbulb"></i> Məsləhət: Aydın və təsviri adlar istifadə edin</p>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<script>
    // Form validation
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.querySelector('form');

        form.addEventListener('submit', function(e) {
            // Check if name field is empty
            const nameInput = document.getElementById('nameInput');
            if (!nameInput.value.trim()) {
                e.preventDefault();
                alert('Zəhmət olmasa kateqoriyanın adını daxil edin!');
                nameInput.focus();
                return false;
            }
        });

        // Character counter for description
        const descriptionInput = document.getElementById('descriptionInput');
        if (descriptionInput) {
            descriptionInput.addEventListener('input', function() {
                if (this.value.length > 500) {
                    this.value = this.value.substring(0, 500);
                }
            });
        }
    });
</script>

<style>
    .form-control-lg {
        height: calc(1.5em + 1.5rem + 2px);
        font-size: 1.1rem;
    }

    .card {
        border-radius: 8px;
    }

    .form-label {
        margin-bottom: 0.75rem;
        font-size: 0.95rem;
    }

    .form-text {
        font-size: 0.85rem;
    }
</style>

</body>
</html>